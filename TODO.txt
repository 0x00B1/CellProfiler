CellProfiler cell image analysis software development 
November 21, 2005

COMMENTS:

-(Requested by Anne 11-21-05) (could not get to reproduce, please show):  When I put GetDataOnImage in the pipeline, it looked fine but when I moved it 4 spaces down in the pipeline, the intervening four modules (all four = OverlayOutlines) now have the GetDataOnImage dropdown menus and variable boxes overlaid on their variables.

TODO:

(Requested by Anne 11-21-05)  Histograms: 
1.  If you choose a starting and ending image set when running this tool, it ignores your inputs and plots the entire image set!!!!!
2. Export Data button didn't work for me. No errors, it just doesn't do anything. Perhaps it is because I have a plot plus several control plots on the same chart?
3. I would like to be able to choose the color for the initial plot, preferably right after specifying the starting and ending set.
4. When choosing the color, please list what color names can be typed in, and also how to specify numerical colors, e.g.  [.7 .7 .9].
Here is something perhaps helpful from the CreateWebPage module:
%textVAR07 = Choose the background color, or provide the html color code (e.g. #00FF00)
%choiceVAR07 = Black
%choiceVAR07 = White
%choiceVAR07 = Aqua
%choiceVAR07 = Blue
%choiceVAR07 = Fuchsia
%choiceVAR07 = Green
%choiceVAR07 = Gray
%choiceVAR07 = Lime
%choiceVAR07 = Maroon
%choiceVAR07 = Navy
%choiceVAR07 = Olive
%choiceVAR07 = Purple
%choiceVAR07 = Red
%choiceVAR07 = Silver
%choiceVAR07 = Teal
%choiceVAR07 = Yellow
And, while we are at it, there is a list of colors in DefineGrid that could probably be expanded too?

(Requested by Anne 11-21-05):  Code like the following is found in several identify modules. I think the error will cause the module to abort, though it's not supposed to. Can we make sure it just pops open a window, and that this window is not popped open repeatedly? I think there is an option for one of the warndlg or errordlg boxes that prevents more than one of the same error message from opening each time.
try
    if ~strcmp(SaveOutlined,'Do not save')
        handles.Pipeline.(SaveOutlined) = FinalOutline;
    end
catch error(['The object outlines were not calculated by the ', ModuleName, ' module, so these images were not saved to the handles structure. The Save Images module will therefore not function on these images. This is just for your information - image processing is still in progress, but the Save Images module will fail if you attempted to save these images.'])
end

(Requested by Anne 11-21-05): I think this code in MeasureObjectNeighbors should look up the user's preference for the colormap. Or perhaps there is a CP subfunction relating to colormaps?
if sum(sum(IncomingLabelMatrixImage)) >= 1
    cmap = jet(max(64,max(IncomingLabelMatrixImage(:))));
    ColoredLabelMatrixImage = label2rgb(IncomingLabelMatrixImage,cmap, 'k', 'shuffle');
else  ColoredLabelMatrixImage = IncomingLabelMatrixImage;
end

(Requested by Anne 11-21-05)  There is a bug when using MoG adaptive (see identifyPrimAutomatic).

(Requested by Anne 11-21-05)  We need to disable certain buttons/menu items when running the compiled version, e.g. Tech Diagnosis, Save current CP code, image tool > Save to workspace and probably other stuff too. What is the command that allows us to determine if we are using compiled code?

(Requested by Anne 11-21-05): Make sure all the Measure modules are using the same font. Actually, make sure all the code is using the same font! We have Times, fixedwidth, helvetica throughout the code.

- Combine code for:
Histograms
PlotMeasurements: DONE!

- Make compiled CellProfiler work on cluster

(Requested by Anne 11-21-05) : Not necessary pre-release, but would be nice: In LoadImages, we have a variable that asks for the file extension and it says "DOesn't work right now". We should make it work!

- Check through each module (~2 per day):
EVERYONE:
	- (Requested by Anne) - Test each module on color vs grayscale and make
		sure they all work or have some type of error catching.
	- (Requested by Anne 9-01-05) - We'd like to make the variable descriptions
		consistent - at the very least we should try to be consistent with
		stating "Choose" (rather than "select"), and phrasing things as
		questions versus "Enter the ..."   Also, look through the variable
		descriptions for uses of computer-ific words like 'segmentation'.
	- Write help if DNE
	- Check that fontsize is never hard-coded and instead uses the user's preference.
	- Remove 'saving images' text
MIKE:
	- CPfigure rather than figure. DataLayout tool in particular is using figure.
	- Smart Indent
	- M Lint error checking
	- CPimagesc
ANNE HAS DONE THIS FOR ALL>>>	
- Go through the code looking for instances of the term "image set" and
		replace with "cycle" where appropriate.
- check format of error messages.
---------------------------------------------------
JUST PRIOR TO PUBLIC RELEASE:
- Submit code to Sourceforge for distribution/easy updating? EVeryone seems to recommend this for open-source software.
- Prepare updated manual
- Make reference sheet with short descriptions of the modules (see manuscript table).
- For each common application (e.g. cell count, yeast colony count, staining intensity, cell cycle, nuclear/cytoplasmic translocation) and cell type (e.g. human, yeast, drosophila), make an example pipeline file and a nice pdf document showing the results: We should use the 'test mode' option in IdentifyPrimAutomatic to show all the possibilities, and then show results from the ideal pipeline. This will give people a good starting place for their images. Anne has example images and starting points for new pipelines in the ExampleFlyImages folder.
- Design an informational brochure
- Make a tutorial to demonstrate how CP is used.
- copy CP code onto CDs for Colin to take to ASCB meeting in San Francisco.
NO... let's just give people the web address, so they get the freshest copy of the code!  And, it's less work for us!
- tell the following sites that review and list software:
www.zdnet.com	downloads.mycomputer.com	www.windows95.sk
directory.google.com	www.libpng.org	cn.tech.yahoo.com
www.dmoz.org	softload.narod.ru	www.chinabyte.com
www.winsite.com	www.cheta.net www.open-bio.org    caBIG
- Get the email addresses of all corresponding authors from all the research articles Anne has collected, and also microscope facility directors and send them an email telling them to visit cellprofiler.org and sign up for the email list if desired.
- The Broad institute has done a lot of thinking and infrastructure for distributing free software. They have narrowed down to 3 licenses (GPL, a variant of academic open source, and one other) that their scientists use and they also have pages to help register users who download their software etc. this might be useful for us.

---------------------------------------------------
POST-PUBLIC RELEASE SUPPORT:
     - Monitor imaging newsgroups and inform people about the software
     - Provide technical support/help desk
     - Fix bugs
     - Maintain for new releases of OS's and Matlab
     - Check Matlab Central for useful code to incorporate into
       CellProfiler or its modules (last checked on 9-16-04:
       Biotech/medical, Graphics (all 3 categories), Image Processing,
       Utilities - GUI Tools & examples, and Misc.) 
     - Organize training workshops
     - Present at conferences, especially microscope facility director-oriented ones.
---------------------------------------------------
THINGS TO DO WHEN NEW VERSIONS OF MATLAB COME OUT:
- update the image file formats that are readable in LoadImages modules. 
- For many functions we have made our own CP versions - check the new matlab code to see if they've changed anything that would warrant us re-creating the CP subfunctions to use the new code.