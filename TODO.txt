CellProfiler cell image analysis software development 
November 8, 2005

-------
STUFF NEEDED FOR STEVE'S PROJECT:

- (Requested by Anne 11-08-05) - Fix Export SQL, ExportData, Histograms, PlotMeasurement, etc. for when number of objects = zero.
-----------

-(HARD TO FIX, NEED TO TALK) (Requested by Anne 11-08-05) - Expand or Shrink does not work properly for shrinking secondary objects that are touching each other. it looks like the edges that border the background shrink but the edges that touch each other stay the same. Probably b/c we initially wrote this moduel for primary objects which always have a black line between the objects.

-(HARD TO FIX, SAME AS ABOVE) (Requested by Anne 11-08-05) - IdTertiarySubregion doesn't produce nice outlines, they all run together. Can we fix this?

- imclearborder ImageProcessing toolbox

- Make sure all modules are using error and not errordlg

- (Requested by Anne 11-08-05)
-please add log scale option for histograms. The user would still specify the min and max in terms of the actual, original measurements, but the bin widths would be made on a log scale.
-Also, can we add a button onto the histogram figure that's "Export data to Matlab workspace" which runs that line you gave me? It's a different command depending on whether it's bar or line data, and you'd want to run two lines - one for X data (bins) and the other for the data itself:
Bins = cell2mat(get(findobj(gcf,'type','line'),'XData'))
Data = cell2mat(get(findobj(gcf,'type','line'),'YData'))
I'm not sure what order these come out as (if you have two plots on the chart): I guess in order of how they were put on? or does it depend which plotted line you recently selected?

- Make compiled CellProfiler work on cluster

- (Requested by Anne 11-08-05) - It looks like there is a little bug in the pipeline loading - whatever setting it is that controls whether a browse button/long pathname box is displayed is not moved up and down the pipeline when the rest of the stuff moves. I had a long pipeline with save images at the end that has one of these pathname/browse variables. It looked fine until I added a module to the pipeline several steps before the end. Then, the save images was moved down one spot but lost its browse button. Meanwhile, the module before the save images gained a mysterious browse button.

- (Requested by Anne 11-08-05) - Gray to Color has some text as a variable description that says type N to leave that color black, but I think that's outdated, right?

- (Requested by Anne 11-08-05) - show data on image needs the underscores to be displayed properly in the title for the image. see other image tools for example of this.

- (Requested by Anne 11-08-05) - The time for each pipeline window is using wrong font type (looks like times new roman). Also, the set preferences confirmation dialogs after you set the prefs. Also, the error dlg that says your default image folder does not exist. Also, the LoadSavedWindow that helps you load old pipelines is not using proper font size.

- (Requested by Anne 11-08-05) - In my opinion, LoadImages window should stay open (though it could be resized to be not very tall) and display the current image filenames that were loaded. Otherwise, there is no easy way to tell which images are being analyzed, esp. if you are working in subfolders.

- (Requested by Anne 11-08-05) - When in PlotMeasurement, if you click on another window sometime in the process of choosing features, etc, it ends up plotting the data in whatever window you clicked. Which sometimes is the main CP GUI. Which looks kind of cool, but is probably not intended. :)

-Update pipelines for new threshold

-Fix ellipse by clicking points in crop module

- (Requested by Anne 11-08-05) - Long-term, maybe UROP: Can we make PlotMeasurements as cool as Histograms? e.g. selecting subsets of images, 'gating' by plotting only cells above a threshold in a particular measurement.

- (Requested by Anne 11-05-05) - In Crop, when cropping by clicking pixels, esp. in rectangle shape, it would be nice when you accidentally click a little bit off the image (e.g. you are trying to click the top left most pixel of the image) if it would not fail. Right now, it probably records it as a negative number or something, so it would be nice if positions less than 1 are rounded to 1 and if pixels greater than the size of the image are rounded to the 'end' of the image. If this occurs, however, there should be a warning dialog so you are aware that you clicked off the image (in case you accidentally clicked way off the image and did not intend to). I guess the same thing should be done for clicking points to make an ellipse, right?

- (Requested by Anne 11-08-05) -  FilterByObject Measurement fails if there are no objects in an image.

- (Requested by Anne 11-02-05) - Susan will eventually work on making ExportData (datatool) into a module.  Is it possible in a general way to make all our data tools easily wrapped so they can be run as modules as well? I think perhaps the easiest way to accomplish this would be to write all the data tools as modules, and then when running them as a data tool, pass the module a fake handles structure.

- (Requested by Anne 11-08-05) - When you load a non-valid settings file, you get an error message, but the text "Loading" still appears in the pipeline listbox, and it seems to me that there are variables and stuff left loaded in handles.Settings - maybe because I previously had some modules in the pipeline when I tried loading a new one?

-(EXPAND OR SHRINK FIXED) (Requested by Anne 11-08-05) - Expand or Shrink does not have the option to save outlines. Can you add it and also check any other object processing modules (this is for the general TODO, not steve's but maybe it's quick to check it while you are doing this) to be sure they all are capable of saving outlines properly, and *not* saving colored objects?

UROP:

- Make the help/manual prettier: For each example image that is just text, type the text into the help for that file instead of referring to the image, because as it is these images are stretched a lot.

- Check through each module (~2 per day):
EVERYONE:
	- Go through the code looking for instances of the term "image set" and
		replace with "cycle" where appropriate.
	- (Requested by Anne) - Test each module on color vs grayscale and make
		sure they all work or have some type of error catching.
	- (Requested by Anne 9-01-05) - We'd like to make the variable descriptions
		consistent - at the very least we should try to be consistent with
		stating "Choose" (rather than "select"), and phrasing things as
		questions versus "Enter the ..."   Also, look through the variable
		descriptions for uses of computer-ific words like 'segmentation'.
	- Write help if DNE
	- Check that fontsize is never hard-coded and instead uses the user's preference.
MIKE:
	- Make sure all code is using CPfigure rather than figure. I think the
		DataLayout tool in particular is using figure.
	- Smart Indent
	- M Lint error checking
	- (Requested by Anne)- IdentifyPrimAutomatic has a nice thing when you click
		on one of the images within the figure that allows you to open in its
		own window, etc. We should implement this feature into all the modules.
---------------------------------------------------
JUST PRIOR TO PUBLIC RELEASE:
- Make the download new modules work - I think it should also download new CellProfiler.m and ImageTools and DataTools, etc.
- Prepare updated manual
- Check whether canceling works 
- Make reference sheet with short descriptions of the modules.
- For each common application (e.g. cell count, yeast colony count, staining intensity, cell cycle, nuclear/cytoplasmic translocation) and cell type (e.g. human, yeast, drosophila), make an example pipeline file and a nice pdf document showing the results: We should use the 'test mode' option in IdentifyPrimAutomatic to show all the possibilities, and then show results from the ideal pipeline. This will give people a good starting place for their images. Anne has example images and starting points for new pipelines in the ExampleFlyImages folder.
- Design an informational brochure
- Make a tutorial to demonstrate how CP is used.
- copy CP code onto CDs for Colin to take to ASCB meeting in San Francisco.
Sites that review and list software:
www.zdnet.com	downloads.mycomputer.com	www.windows95.sk
directory.google.com	www.libpng.org	cn.tech.yahoo.com
www.dmoz.org	softload.narod.ru	www.chinabyte.com
www.winsite.com	www.cheta.net www.open-bio.org 
- Submit CellProfiler to caBIG (check license terms and maybe use them instead of GPL.
- Get the email addresses of all corresponding authors from all the research articles Anne has collected, and also microscope facility directors and send them an email telling them to visit cellprofiler.org and sign up for the email list if desired.
- The Broad institute has done a lot of thinking and infrastructure for distributing free software. They have narrowed down to 3 licenses (GPL, a variant of academic open source, and one other) that their scientists use and they also have pages to help register users who download their software etc. this might be useful for us.

---------------------------------------------------
POST-PUBLIC RELEASE SUPPORT:
     - Monitor imaging newsgroups and inform people about the software
     - Provide technical support/help desk
     - Fix bugs
     - Maintain for new releases of OS's and Matlab
     - Check Matlab Central for useful code to incorporate into
       CellProfiler or its modules (last checked on 9-16-04:
       Biotech/medical, Graphics (all 3 categories), Image Processing,
       Utilities - GUI Tools & examples, and Misc.) 
     - Organize training workshops
     - Present at conferences, especially microscope facility director-oriented ones.
---------------------------------------------------
THINGS TO DO WHEN NEW VERSIONS OF MATLAB COME OUT:
- update the image file formats that are readable in LoadImages modules.