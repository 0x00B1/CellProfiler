CellProfiler cell image analysis software development 
October 21, 2005  IN ORDER OF PRIORITY

- (Requested by Anne 11-05-05) - None of the image tools work that are embedded in IdentifyPrim figure window - i.e. clicking on one of the panels yields the little pop up window of image tools, but none of them works - here is the error:
??? There is no 'Title' property in the 'figure' class.

Error in ==> CPImageTool at 52
        Title = get(get(get(handle,'Parent'),'Title'),'String');      % Get title of image

??? Error while evaluating uicontrol Callback.


- (Requested by Anne 11-05-05) - We are getting errors again in MeasureTexture:
Warning: Divide by zero.
> In MeasureObjectTexture>CalculateHaralick at 546
  In MeasureObjectTexture at 355
  In CellProfiler>AnalyzeImagesButton_Callback at 3199
  In CellProfiler>gui_mainfcn at 4989
  In CellProfiler at 51

- (Requested by Anne 11-05-05) - Have Id Secondary display what threshold was used, and percent of image consists of objects (like IdPrim does).

- (Requested by Anne 11-05-05) - Is it possible to have the figure windows, during the first cycle, open when you get to the module?  This would make things run better on the mac, where opening the windows takes a while now that matlab SP3 is using java instead of X11 (so if you have an error in the first module, you have to wait for all 20 windows to open first). It would also fix the problem of images being displayed in the wrong windows if you close windows while the windows are still in the process of opening up.  Or maybe actually this problem would get worse - I guess you could have multiple modules assigned to the same figure window if you closed some windows during the first cycle. Hmm.


- (Requested by Anne 11-05-05) - There are some eval commands still in the code. (saw in Crop). Don't we have to remove these for compiled functions to work?

- (Requested by Anne 11-04-05) - We seem to be accumulating variables in the workspace. It seems like when this happens, someone is using a shortcut - e.g. making variables global, and we should be able to not do that. Or at least clear the variables when we are done with them.

- (Requested by Anne 11-05-05) - There is something very strange with CPthreshold when running in adaptive mode. the threshold fails in IdSecondary - i fixed that problem (see ANNE REPLACED THIS LINE 11-06-05 in IdSecondary to make sure it looks ok to do what I did), but the results just look bad when using MoG adaptive.  Also, it seems very confusing to have CPthreshold, CPgraythresh and CPdoublegraythresh. What's going on? Does it make sense? We put in some effort to figure out whether log transforming was helpful and incorporated it into CPgraythresh, but then CPthreshold doesn't have  log transforming? Maybe Ola did this and he knew what he was doing.

- (Requested by Anne 11-05-05) - The Histogram tool isn't exporting the data to excel properly (at least when combining several histograms into one histogram) - it has the bin column headings accurate, but the number of cells per bin has blank columns in between each value.

- (Requested by Anne 11-05-05) - when adding a control histogram to the histogram plot, it doesn't ask you or tell you which sample it's using - is it the first image cycle in the output file.?

- (Requested by Anne 11-05-05) - The text "Loading Pipeline" that displays while pipelines are loading in the little status bar dialog box is not the user's font size.

- (Requested by Anne 11-05-05) - ExportData is not using the proper font size. At normal font size, the different objects' names are kind of cut off a bit on their bottom edge.  The swap rows/columns prompt should state something about which way it will be - like "Each measurement is a " and then the popup would say 'column' or 'row' (I think that is accurate for both Image and Object files). Change 'Choose base of output' to say 'Base file name for exported files:' (or whatever you think is user friendly). The Export process info popup menu is too small to display its text, so it needs to be wider, or perhaps better yet it should be a checkbox like the rest. Export process info doesn't seem to work at the moment - I get an error. The text prompt should be renamed something more meaningful - like 'Export modules and settings in the pipeline as a text file' (I think that's what it does).  If you deselect all the objects and just try to export process info, nothing happens.

- (Requested by Anne 11-05-05) - The error message needs to be made modal (not open a new one for each cycle) and to have the proper CP color:  It occurred as a result of one of the identify modules - not sure which - and said this: The object outlines or colored objects were not calculate by an identify module (possibly because the window is closed) so these images were not saved to the handles structure. It's strange, because I don't think the message was necessary - i think the outlines were calculated and then saved properly, so we should also check whether this message even ought to be shown.

- (Requested by Anne 11-05-05) - In Crop, when cropping by clicking pixels, esp. in rectangle shape, it would be nice when you accidentally click a little bit off the image (e.g. you are trying to click the top left most pixel of the image) if it would not fail. Right now, it probably records it as a negative number or something, so it would be nice if positions less than 1 are rounded to 1 and if pixels greater than the size of the image are rounded to the 'end' of the image. If this occurs, however, there should be a warning dialog so you are aware that you clicked off the image (in case you accidentally clicked way off the image and did not intend to). I guess the same thing should be done for clicking points to make an ellipse, right?

- Identify Secondary Test Mode?

- Make compiled CellProfiler work on cluster

- (Requested by Anne 11-02-05) - Susan will eventually work on making ExportData (datatool) into a module.  Is it possible in a general way to make all our data tools easily wrapped so they can be run as modules as well? I think perhaps the easiest way to accomplish this would be to write all the data tools as modules, and then when running them as a data tool, pass the module a fake handles structure.

UROP:

- Make the help/manual prettier: For each example image that is just text, type the text into the help for that file instead of referring to the image, because as it is these images are stretched a lot.

- Check through each module (~2 per day):
EVERYONE:
	- Go through the code looking for instances of the term "image set" and
		replace with "cycle" where appropriate.
	- (Requested by Anne) - Test each module on color vs grayscale and make
		sure they all work or have some type of error catching.
	- (Requested by Anne 9-01-05) - We'd like to make the variable descriptions
		consistent - at the very least we should try to be consistent with
		stating "Choose" (rather than "select"), and phrasing things as
		questions versus "Enter the ..."   Also, look through the variable
		descriptions for uses of computer-ific words like 'segmentation'.
	- Write help if DNE
	- Check that fontsize is never hard-coded and instead uses the user's preference.
MIKE:
	- Make sure all code is using CPfigure rather than figure. I think the
		DataLayout tool in particular is using figure.
	- Smart Indent
	- M Lint error checking
	- (Requested by Anne)- IdentifyPrimAutomatic has a nice thing when you click
		on one of the images within the figure that allows you to open in its
		own window, etc. We should implement this feature into all the modules.
---------------------------------------------------
JUST PRIOR TO PUBLIC RELEASE:
- Make the download new modules work - I think it should also download new CellProfiler.m and ImageTools and DataTools, etc.
- Prepare updated manual
- Check whether canceling works 
- Make reference sheet with short descriptions of the modules.
- For each common application (e.g. cell count, yeast colony count, staining intensity, cell cycle, nuclear/cytoplasmic translocation) and cell type (e.g. human, yeast, drosophila), make an example pipeline file and a nice pdf document showing the results: We should use the 'test mode' option in IdentifyPrimAutomatic to show all the possibilities, and then show results from the ideal pipeline. This will give people a good starting place for their images. Anne has example images and starting points for new pipelines in the ExampleFlyImages folder.
- Design an informational brochure
- Make a tutorial to demonstrate how CP is used.
- copy CP code onto CDs for Colin to take to ASCB meeting in San Francisco.
Sites that review and list software:
www.zdnet.com	downloads.mycomputer.com	www.windows95.sk
directory.google.com	www.libpng.org	cn.tech.yahoo.com
www.dmoz.org	softload.narod.ru	www.chinabyte.com
www.winsite.com	www.cheta.net www.open-bio.org 
- Submit CellProfiler to caBIG (check license terms and maybe use them instead of GPL.
- Get the email addresses of all corresponding authors from all the research articles Anne has collected, and also microscope facility directors and send them an email telling them to visit cellprofiler.org and sign up for the email list if desired.
- The Broad institute has done a lot of thinking and infrastructure for distributing free software. They have narrowed down to 3 licenses (GPL, a variant of academic open source, and one other) that their scientists use and they also have pages to help register users who download their software etc. this might be useful for us.

---------------------------------------------------
POST-PUBLIC RELEASE SUPPORT:
     - Monitor imaging newsgroups and inform people about the software
     - Provide technical support/help desk
     - Fix bugs
     - Maintain for new releases of OS's and Matlab
     - Check Matlab Central for useful code to incorporate into
       CellProfiler or its modules (last checked on 9-16-04:
       Biotech/medical, Graphics (all 3 categories), Image Processing,
       Utilities - GUI Tools & examples, and Misc.) 
     - Organize training workshops
     - Present at conferences, especially microscope facility director-oriented ones.
---------------------------------------------------
THINGS TO DO WHEN NEW VERSIONS OF MATLAB COME OUT:
- update the image file formats that are readable in LoadImages modules.

---------------------------------------------------