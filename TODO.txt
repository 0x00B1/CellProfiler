CellProfiler cell image analysis software development 
October 21, 2005  IN ORDER OF PRIORITY

- (Requested by Anne 10-26-2005) - Any other redundant code we can make into a subfunction?  Wyman will do a CPretrieveimage function to retrieve images from the pipeline and do a bunch of error checking, but it's worth looking through a few modules to determine if there's anything else recurring that we want to streamline by moving out of each module.

- (Requested by Anne 10-26-2005) - Is there any way we can address Sophie's request to allow CP to skip image sets if there's an error?  This would be a nice feature. It should stop processing during the first image set if there are errors (so if there is a fundamental error like image not found, it doesn't just start cycling through and skipping *every* image cycle), but for subsequent image sets it should just skip the rest of the pipeline and maybe deposit a flag = 1 in handles.Measurement.Image.ErrorFlag , and handles.Measurements.Image.ErrorFlagFeatures = {'ImageSkipped'}
It's worth thinking about this a bit, just to see whether it's feasible.

- (Requested by Anne 10-26-2005) - I'd like to make all the modules consistent: some use OrigImage, some OrigImageToBeAnalyzed. It would be nice to change them all to be InputImage. This is a somewhat simple change, but I'd rather Mike does it because it will affect every module and be disastrous if we screw it up.  It'd be reasonable to change things like OrigImageName to InputImageName.  Most likely, anything with OrigImage can be changed (even if it's part of a bigger variable name like ThresholdedOrigImage), so it's probably a pretty safe change to make.

- What do you want as output for Calculate Statistics?

- (Requested by Anne 10-25-2005) - Add this to the short descriptions for SaveImages: Can be used as a file format converter to save images in a different format than the original.

-(Not sure this can be fixed, we can talk about it more) (Requested by Anne 10-18-2005) - Help for individual modules (within Add Module), the text is cut off sometimes , see SaveImages module for example. doublecheck that you can print from the help windows.

- (Requested by Anne 10-18-2005) - Make the delete/backspace keys clear an algorithm in the pipeline.

-(IS THIS FEASIBLE? CODE IS ALREADY COMPILED) (Requested by Anne 8-30-05) - It seems to take forever to smooth images when using a large artifact width in CPsmooth.  Can we make it faster?  Perhaps if the artifact width is large relative to the image size, we could resize the image first or something like that.

imfilter? ordfilt2? conv2? which is faster? are there others?  See IdentifyPrimAutomatic for blurring ideas, and also for an example of resizing.

- (Requested by Anne) - right now we choose between intensity and shape (or distance) at two places in IdentifyPrimAutomatic. It might be cool to develop a more sophisticated method that allows you to balance the input of these two sources of information.

- (Requested by Anne 9-28-05) - Build some kind of module that allows interfacing with ImageJ so that routines built for ImageJ can be run in CellProfiler??  No idea how complicated this would be.
>>> See practice ImageJ integration ideas below (two of them). Build a wrapping function that is a CP module which allows using ImageJ as a back end.

- (Requested by Anne 9-19-05) - For cytoplasmic/nuclear translocation, implement Ilya Ravkin's technique where instead of having a binary mask that denotes nucleus vs cytoplasm, there is a weighted function that is based on the nuclear stain. The Univ. Delft people have done similar work in this area.

- (Requested by Anne 8-29-05) - Not sure if this is feasible (especially across platforms), but it would be nice to have CellProfiler start by the user doubleclicking an icon rather than starting up Matlab and typing CellProfiler.

- (Requested by Anne 10-11-2005) - Can you figure out what TempMovieGenerate.m in the DeveloperScripts folder is trying to do? I think it was making a movie from histograms that were plotted over time. We'd like to have this type of functionality built into a module. Once you get oriented in that m-file let me know and we can figure out how we should implement this sort of thing into a regular module.

- (Requested by Anne 10-10-05) (waiting for Ola) - Make MeasureImageTexture based on measureobjecttexture

GUI 1  (Requested by Anne) -(Joo Han might work on this) +++ Histogram DataTool is kind of hacked together at the moment. Streamline it and update its help; possible other improvements: allow fewer labels, plus fewer decimals (right now, it's either-or). If you choose option P (percentage) rather than N (number), the y axis is still labeled 'Number of objects' rather than 'percentage of objects'.

- Identify Secondary Test Mode?

UROP:

- Check for TODO's and FIX ME's throughout the code

- (Requested by Anne) - Maybe make new pipelines to show off different features of CellProfiler if desired (e.g. the SpotIdentifier or yeast colony finding). [Anne recently did yeast colony finding and human nuclei - we can spruce these up just prior to release, so maybe put this back on the general TODO towards the bottom where we have "Pre-release" stuff to do.

- (Requested by Anne 9-21-05) - We haven't tested these modules in a *very* long time - so we should try them out & make sure they work!
MergeBatchOutput
Restart

- (Requested by Anne 10-25-05) - ProcessOutlines needs to be updated:  We need to rename this module IdentifyPrimBasedOnOutlines. State in the help whether the incoming image should be black background with white outlines or vice versa. We need to make this like the other Primary modules, which I think means we need to add fields like 'Edited' in the handles.Pipeline. I think we also need to produce fields in the handles.Measurements structure indicating Object count and maybe location too. See IdentifyPrimAutomatic to make this one consistent.  Doublecheck the IdentifyPrimManual to be sure it's consistent while we are at it. 

- (Requested by Anne 10-20-05) - Do we want to set up a Wiki for cellprofiler.org? It would be great if certain people had access to change the site (e.g. only us!) and the rest of the world saw a non-editable version, but I don't know if that's possible - in other words, giving some people write permission and everyone else read permission, but also making all the editing related stuff not appear on the page. It would be annoying for everyone else to have all the extra clutter on pages. Most likely this won't work but I thought we should look into it.

- Define Grid Changes: (NEED TO VERIFY)
  1. (DONE) What is the least amount of information needed to define grid?
  2. (DONE ONLY PREVIOUS GRID) Implement way to handle failed grids (force grid, previous grid, grid = 0)
  3. (DONE) Have handle's include if grid failed or grid worked

- Make the help/manual prettier: For each example image that is just text, type the text into the help for that file instead of referring to the image, because as it is these images are stretched a lot.

- CHeck through each module (~2 per day):
	- Go through the code looking for instances of the term "image set" and replace with "cycle" where appropriate.
	- Make sure all code is using CPfigure rather than figure. I think the DataLayout tool in particular is using figure.
	- Smart Indent
	- M Lint error checking
	- (Requested by Anne) - Test each module on color vs grayscale and make sure they all work or have some type of error catching.
	- (Requested by Anne)- IdentifyPrimAutomatic has a nice thing when you click on one of the images within the figure that allows you to open in its own window, etc. We should implement this feature into all the modules.
	- (Requested by Anne 9-01-05) - We'd like to make the variable descriptions consistent - at the very least we should try to be consistent with stating "Choose" (rather than "select"), and phrasing things as questions versus "Enter the ..."   Also, look through the variable descriptions for uses of computer-ific words like 'segmentation'.
	- Write help if DNE
---------------------------------------------------
JUST PRIOR TO PUBLIC RELEASE:
- Make the download new modules work - I think it should also download new CellProfiler.m and ImageTools and DataTools, etc.
- Prepare updated manual
- Check whether canceling works 
- Make reference sheet with short descriptions of the modules.
- For each common application (e.g. cell count, yeast colony count, staining intensity, cell cycle, nuclear/cytoplasmic translocation) and cell type (e.g. human, yeast, drosophila), make an example pipeline file and a nice pdf document showing the results: We should use the 'test mode' option in IdentifyPrimAutomatic to show all the possibilities, and then show results from the ideal pipeline. This will give people a good starting place for their images. Anne has example images and starting points for new pipelines in the ExampleFlyImages folder.
- Design an informational brochure
- Make a tutorial to demonstrate how CP is used.
- copy CP code onto CDs for Colin to take to ASCB meeting in San Francisco.
Sites that review and list software:
www.zdnet.com	downloads.mycomputer.com	www.windows95.sk
directory.google.com	www.libpng.org	cn.tech.yahoo.com
www.dmoz.org	softload.narod.ru	www.chinabyte.com
www.winsite.com	www.cheta.net www.open-bio.org 
- Submit CellProfiler to caBIG (check license terms and maybe use them instead of GPL.
- Get the email addresses of all corresponding authors from all the research articles Anne has collected, and also microscope facility directors and send them an email telling them to visit cellprofiler.org and sign up for the email list if desired.
- The Broad institute has done a lot of thinking and infrastructure for distributing free software. They have narrowed down to 3 licenses (GPL, a variant of academic open source, and one other) that their scientists use and they also have pages to help register users who download their software etc. this might be useful for us.

---------------------------------------------------
POST-PUBLIC RELEASE SUPPORT:
     - Monitor imaging newsgroups and inform people about the software
     - Provide technical support/help desk
     - Fix bugs
     - Maintain for new releases of OS's and Matlab
     - Check Matlab Central for useful code to incorporate into
       CellProfiler or its modules (last checked on 9-16-04:
       Biotech/medical, Graphics (all 3 categories), Image Processing,
       Utilities - GUI Tools & examples, and Misc.) 
     - Organize training workshops
     - Present at conferences, especially microscope facility director-oriented ones.
---------------------------------------------------
THINGS TO DO WHEN NEW VERSIONS OF MATLAB COME OUT:
- update the image file formats that are readable in LoadImages modules.

---------------------------------------------------