Plan for a generic window-based detector
-----------------------------------------

The window based detector gets as input one or more images of the same
field of view. Each image is a grey-value (i.e. scalar) and
corresponds to a different way of imaging the field of view. A
standard combination would be one bright-field image and several
fluoresent images.

The goal is to detect small visual patterns. The pattern can vary in
location, orienation and size, but it cannot deform. Examples patterns
are: a yeast cell. An arrested Hela cell. The edge of a "flat" Hela
cell. The edge of the nucleus of the Hela Cell. A nuclielus of the
Hela Cell. A section of a C Elegans worm.

The detection consists of the following steps:

1) Convolutions: Each of the images is passed through a set of
convolution filters to generate maps that highlight particular low
level properties. These map images are appended to the raw images.
   - Edge detection using Sobel filters gives a direction+magnitude
   map
   - Laplacian-of-gaussian maps highlight textured areas with a
   particular component size.
   - other filters would be used for unisotropic textures, if needed.

2) Window scanning : square windows are slid over the image at
different sizes and orientations. 

3) Each window is split into regions. In each region a histogram of
each one of the low level images (raw images and maps) is
generated. The union of all of these histograms constitues the
"feature vector" for the window.

4) A scoring function maps the feature vector to a real valued
score. The score should be positive if and only if the window contains
the desired pattern. The score is larger when the detection is more
confident.

5) A gaussian smoother is run on the map of score results, smoothing
it in all of the variation dimensions: location, size and orientation.

6) Local maxima are found in the smoothed map. These are the putative
detections. Alternatively, the detection maps are used as input for a
higher-level detector (for example, to detect a nucleus we would want
to detect nucleic edges surrounding one or more nuclieli. The edges
and the nuclieli can be a first-level detection task that is fed into
a nucleus detector.

-------------

The scoring function is generated using JBoost. To train it we use
manually labeled training examples. Initially, each positive example
is hand annotated. The convension for the annotaion is a line segment
which runs along the middle of the detection window.

After initial training, the detections are displayed and the task of
the user is to identify incorrect detections, as well as mark missed
detections. This active learning process is repeated until sufficient
accuracy is reached.
